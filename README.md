[Русский](README.md)|[English](README.en.md)
<br>
![License: Apache-2.0](https://img.shields.io/badge/License-Apache_2.0-blue.svg)
<br>

# Проект 202312-todo: систeма управления списком задач

Программа для создания ToDo заданий.
202312-todo — это многофункциональное приложение для управления задачами, разработанное на языке Python.

Оно предлагает два удобных интерфейса: консольное приложение для работы через командную строку и REST API (частично, находится в разработке) для интеграции с веб-приложениями и другими системами.

С todoapp пользователи могут легко добавлять, просматривать, обновлять и удалять задачи, сохраняя все изменения в общей базе данных. Это гибкое решение для эффективного управления временем и задачами

Приложение разрабатывалось и тестировалось в следующих окружениях:

- Windows 10 и Windows 11;
- Windows 10/11 с использованием WSL (Windows Subsystem for Linux);
- Ubuntu Linux.

<<<<<<< HEAD

#### API часть приложения (эксперементальная часть):

Web интерфейс: Предоставляет REST API, через который можно взаимодействовать с приложением с использованием HTTP-запросов. Это позволяет интегрировать приложение с другими системами и создать пользовательский интерфейс на веб-сайте или в мобильном приложении.

<br>

## Подготовка к запуску

=======

## Подготовка к запуску

### 1. Предварительные требования

Для запуска проекта потребуется:

- установленный **Git**;
- установленный **uv** — менеджер Python-проектов, который сам создаёт виртуальное окружение и ставит зависимости на основе `pyproject.toml` и `uv.lock`.

Проверить наличие uv:

```
uv --version
```

Если команда не находится, установите uv по инструкции с сайта разработчика (Astral) для вашей системы.

### 2. Клонирование репозитория

Склонируйте репозиторий в нужное вам место и перейдите в папку проекта

```
git clone https://github.com/EPoY74/202312-todo.git
cd 202312-todo
```

Все следующие команды выполняются из корня проекта (там, где лежат файлы README.md, pyproject.toml, uv.lock).

### 3. Установка зависимостей через uv

Установите зависимости проета:

```
uv sync
```

Эта команда:

- создаёт (при необходимости) виртуальное окружение в .venv;
- устанавливает зависимости, описанные в pyproject.toml;
- приводит окружение в состояние, зафиксированное в uv.lock (повторяемый и предсказуемый набор версий).

Интерпретатор Python uv подберёт автоматически; если подходящей версии нет, он предложит её установить.

## Запуск проекта

### 4. Инициализация базы данных

Перед первым использованием нужно создать файл базы данных SQLite и таблицы. Для этого выполните:

```
uv run python -m src.cli --create_db
```

После успешного выполнения команда создаст файл БД (по умолчанию он находится в каталоге src/data).

#### Загрузка тестовых данных

В каталоге `src/data/` находится скрипт `init_db.py`, который загружает дамп `sqlite-example-data-db-utf-8.sql`
в базу `todo_main.db`.
При отсутсвии файла `todo_main.db`, он будет создан автоматически.

```
# Загрузить тестовые данные в БД

uv run python src/data/init_db.py
```

### 5. Запуск CLI-версии (консольное приложение)

Посмотреть краткую справку по CLI:

```
uv run python -m src.cli
```

Типичные примеры использования:

```
# Показать список задач
uv run python -m src.cli --tasks_list
```

```
# Добавить новую задачу
uv run python -m src.cli --task_add "Купить молоко"
```

```
# Отметить задачу выполненной (по идентификатору)
uv run python -m src.cli --completed_at 1
```

```
# Удалить задачу (по идентификатору)
uv run python -m src.cli --task_del_id 1
```

Актуальный список опций и флагов можно посмотреть через uv run python -m src.cli или в разделе с описанием команд CLI ниже по README.

<br>

### 6. Запуск API-версии (опционально)

В проекте также есть API-интерфейс для работы с задачами по HTTP.

Запуск:

```
uv run python -m src.api
```

После старта в терминале будет указан адрес и порт сервера (обычно что-то вроде http://127.0.0.1:8000).

Основные эндпоинты:

- GET / — информация о проекте / здоровье сервиса;
- GET /all — список всех задач;
- GET /last — последняя задача;
- GET /task/{id} — получение задачи по идентификатору.

Точный список и форматы запросов/ответов смотрите в описании API (OpenAPI/Swagger) и соответствующем разделе README.

### 7. Где хранятся данные и логи

База данных: каталог src/data/ (основной файл SQLite с задачами).

Логи приложения: каталог src/log/, файл todo_cli.log создаётся автоматически при первом запуске.

### 8. Остановка приложения

CLI-команды завершаются автоматически после выполнения.

API-сервер останавливается по Ctrl + C в том терминале, где был запущен:

```
Ctrl + C
```

## License

License: Apache-2.0 – see [License: Apache-2.0](./LICENSE-ru)
